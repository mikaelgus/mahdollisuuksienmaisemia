<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="css/output.css" rel="stylesheet" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Cantarell&display=swap"
      rel="stylesheet"
    />
    <link href="https://vjs.zencdn.net/7.20.3/video-js.css" rel="stylesheet" />
    <link href="https://unpkg.com/video.js@7/dist/video-js.min.css" rel="stylesheet">
   <!--  <link href="https://unpkg.com/@videojs/themes@1/dist/fantasy/index.css" rel="stylesheet"> -->
    <link href="css/fantasy.css" rel="stylesheet" />
    <link rel="stylesheet" href="css/emojionearea.min.css" />
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/chroma-js/2.4.2/chroma.min.js"
      integrity="sha512-zInFF17qBFVvvvFpIfeBzo7Tj7+rQxLeTJDmbxjBz5/zIr89YVbTNelNhdTT+/DCrxoVzBeUPVFJsczKbB7sew=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <script src="/socket.io/socket.io.js"></script>
    <script defer src="js/chat.js"></script>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
    <script type="text/javascript"src="js/emojionearea.min.js"></script>
    <script type="text/javascript" src="js/emoji.js"></script>
  </head>
  <style>
    
  </style>
  
  <body class="bg-black m-20">
    <header class="">
      <div class="flex justify-center">
        <p class="text-whiteGrey font-main tracking-widest	">Mahdollisuuksien maisema</p>
      </div>

      <div class="flex justify-center">
        <button
          class="bg-black rounded border-2 border-whiteGrey relative text-sm font-medium text-whiteGrey"
        >
          Purple to blue
        </button>
        <button
          class="bg-black rounded border-2 border-whiteGrey relative text-sm font-medium text-whiteGrey"
        >
          Purple to blue
        </button>
        <button
          class="bg-black rounded border-2 border-whiteGrey relative text-sm font-medium text-whiteGrey"
        >
          Purple to blue
        </button>
      </div>

      <div class="flex justify-end">
        <audio
        class="w-1/4"
        controls
        src="media/hamahakkimies.mp3"
        type="audio/mp3"

      >
      Your browser does not support the
        <code>audio</code> element.
      </div>
     
    </header>
    <div class="flex justify-end">
      <button id="toggle-chat"
        class="bg-black rounded border-2 border-whiteGrey relative text-xs text-whiteGrey p-1 m-1"
      >
        piilota chatti
      </button>
    </div>
    <section class="grid grid-cols-3 gap-4 mt-10">
      
      <div id="video-box" style="grid-column: span 2;" class="border-box h-auto rounded border-2 border-whiteGrey">
        <video
        id="my-player"
        class="video-js vjs-theme-fantasy"
        controls
        preload="auto"
        width="640"
        height="264"
        poster=""
        data-setup="{}"
        style="max-width: 100%;"
      >
        <source src="media/sea_animation.mp4" type="video/mp4" />
        <source src="MY_VIDEO.webm" type="video/webm" />
        <p class="vjs-no-js">
          To view this video please enable JavaScript, and consider upgrading to a
          web browser that
          <a href="https://videojs.com/html5-video-support/" target="_blank"
            >supports HTML5 video</a
          >
        </p>
      </video>
      </div>

      <div id="chat-section" class="h-auto rounded border-2 border-whiteGrey">
        <form id="join" class="">
      <!--<h3><p class="text-whiteGrey">Syötä ensin käyttäjänimi:</p></h3>
          <p class="text-whiteGrey">Käytä vain kirjaimia ja numeroita (min. 3 merkkiä)</p> -->
          <input
            type="text"
            id="username"
            placeholder="Chattinimi"
            pattern="[A-Öa-ö0-9].{3,}"
            autocomplete="off"
            class="bg-white rounded border-2 border-whiteGrey m-2 p-1"
            style="width: 70%;"
          />
          <button class="rounded border-2 border-whiteGrey px-2 py-1 text-xs" id="joinBtn" type="submit">
            <p class="text-whiteGrey">Aseta</p></button>
          <p class="text-whiteGrey" id="nameError"></p>
        </form>
        <div class="h-40 rounded border-2 bg-white border-whiteGrey p-2">
          <ul id="messages" style="list-style-type: none" class="h-36 overflow-y-scroll"></ul>
        </div>
        <form id="form" class="w-11/12 ">
          <!-- <h3><p class="text-whiteGrey">Kirjota viesti</p></h3> -->
      
            <input
              type="text"
              id="input"
              placeholder="Kirjoita viesti"
              autocomplete="off"
              
              class="bg-white m-2"
            />
         
          <button class="float-right rounded border-2 border-whiteGrey px-2 py-1 text-xs" id="chatBtn" type="submit">
            <p class="text-whiteGrey">Lähetä</p></button>
        </form>
        
      </div>
      <div style="display: none;" id="chat-names" class="col-span-3 h-auto text-xs p-2 text-whiteGrey rounded border-2 border-whiteGrey"> 
      </div>
      <div class="col-span-3 h-40 rounded border-2 border-whiteGrey">
        <p class="text-whiteGrey">Informaatio</p>
        
      </div>
    </section>

    <section class="grid grid-cols-2 gap-4 mt-10">
      <button
        class="bg-black h-28 rounded border-2 border-whiteGrey relative text-sm font-medium text-whiteGrey"
      >
        Purple to blue
      </button>

      <button
        class="bg-black h-28 rounded border-2 border-whiteGrey relative text-sm font-medium text-whiteGrey"
      >
        Purple to blue
      </button>

      <button
        class="bg-black h-28 rounded border-2 border-whiteGrey relative text-sm font-medium text-whiteGrey"
      >
        Purple to blue
      </button>

      <button
        class="bg-black h-28 rounded border-2 border-whiteGrey relative text-sm font-medium text-whiteGrey"
      >
        Purple to blue
      </button>

      <button
        class="bg-black h-28 rounded border-2 border-whiteGrey relative text-sm font-medium text-whiteGrey"
      >
        Purple to blue
      </button>

      <button
        class="bg-black h-28 rounded border-2 border-whiteGrey hover:border-gradi relative text-sm font-medium text-whiteGrey"
      >
        Purple to blue
      </button>
    </section>

    <script>
      let buttons = document.querySelectorAll("button");
      const colorScale = chroma.scale([
        "#FF00F5",
        "#00F0FF",
        "#00FF19",
        "#FAFF00",
      ]).domain([0,0.7,0.6,0.9]);

      const bodyHeight = window.innerHeight;
      const bodyWidth = document
        .querySelector("body")
        .getBoundingClientRect().width;

      function colorButtons() {
        buttons.forEach((button) => {
          button.onmouseover =
            function (event) {
              let height = button.getBoundingClientRect().y;
              let width = button.getBoundingClientRect().x;
              let percentageLeftCorner = (height / bodyHeight + width / bodyWidth) / 2;
              let percentageRightCorner = ((height + button.offsetHeight) / bodyHeight + (button.offsetWidth+ width) / bodyWidth) / 2;
              
              button.style.borderStyle = `solid`;
              button.style.borderImage = `linear-gradient(120deg,${colorScale(percentageLeftCorner)},${colorScale(percentageRightCorner)}) 10`;
            };
            button.onmouseleave= function(){
             button.style = ``;

            }
        });
      }
      colorButtons()
      //window.addEventListener('scroll', function(){
      //    colorButtons()
      //})
    </script>
    <script src="https://vjs.zencdn.net/7.20.3/video.min.js"></script>
  </body>
</html>
